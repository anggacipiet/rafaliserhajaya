[build]
  command = "npm run build"
  publish = "public"

[build.environment]
  HUGO_VERSION = "0.68.3"
  TINA_PUBLIC_CLIENT_ID = "20883a00-ef1c-4234-83d9-dc9addde95c0"
  TINA_TOKEN = "e7c6b98ea4b57d1beba9e53fad23ba2f46fa4dac"
  GITHUB_BRANCH = "master"

[[redirects]]
  from = "/admin"
  to = "/admin/index.html"
  status = 200

[[redirects]]
  from = "/admin/*"
  to = "/admin/index.html"
  status = 200

[[headers]]
  for = "/*.jpg"
  [headers.values]
  Cache-Control = "public, max-age=604800"

[[headers]]
  for = "/*.png"
  [headers.values]
  Cache-Control = "public, max-age=604800"

[[headers]]
  for = "/*.css"
  [headers.values]
  Cache-Control = "public, max-age=604800"

[[headers]]
  for = "/*.js"
  [headers.values]
  Cache-Control = "public, max-age=604800"

[[headers]]
  for = "/*" # This defines which paths this specific [[headers]] block will cover.
  [headers.values]
    X-Frame-Options = "DENY"
    X-XSS-Protection = "1; mode=block"
    Referrer-Policy = "no-referrer"
    X-Content-Type-Options = "nosniff"

[[headers]]
  for = "/admin/*"
  [headers.values]
    X-Frame-Options = "SAMEORIGIN"
    Content-Security-Policy = "frame-ancestors 'self'"
    Access-Control-Allow-Origin = "*"